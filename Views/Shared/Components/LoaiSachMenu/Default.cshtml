@model IEnumerable<TLoaiSach>

<ul>
    @foreach (var item in Model)
    {
        var getUrl = "https://localhost:7068/api/productapi/" + @item.MaLoai;
        <li><a style="cursor:pointer" onclick="ShowProductByCategory('@getUrl')">@item.TenLoai</a></li>
    }
</ul>


<script>
    function ShowProductByCategory(getUrl) {
        var str = '';
        $.ajax({
            type: 'GET',
            url: getUrl,
            dataType: 'json',
            success: function (data) {
                $.each(data, function (key, val) {
                    str += '<div class="col-lg-3 col-md-4 col-sm-6 pb-1">';
                    str += '    <div class="product-item bg-light mb-4">';
                    str += '        <div class="product-img">';
                    str += '            <img class="w-100" src="/ProductImages/Sach/' + val.fileAnh + '" alt="' + val.TenSach + '">';
                    str += '            <div class="product-action">';
                    str += '                <a class="btn btn-outline-dark btn-square rounded-0" href="#"><i class="fa fa-shopping-cart"></i></a>';
                    str += '                <a class="btn btn-outline-dark btn-square rounded-0" href="#"><i class="far fa-heart"></i></a>';
                    str += '            </div>';
                    str += '        </div>';
                    str += '        <div class="text-center py-4 product-info">';
                    str += '            <a class="product-info__name" href="#">' + val.tenSach + '</a>';
                    str += '            <div class="d-flex align-items-center justify-content-center mt-2">';
                    str += '                <h5>' + val.giaTriSach + '</h5>';
                    str += '                <h6 class="text-muted ms-2 text-decoration-line-through">' + val.giaTriSach + '</h6>';
                    str += '            </div>';
                    str += '            <div class="d-flex align-items-center justify-content-center mb-1">';
                    str += '                <small class="fa fa-star text-primary me-1"></small>';
                    str += '                <small class="fa fa-star text-primary me-1"></small>';
                    str += '                <small class="fa fa-star text-primary me-1"></small>';
                    str += '                <small class="fa fa-star text-primary me-1"></small>';
                    str += '                <small class="fa fa-star text-primary me-1"></small>';
                    str += '                <small>(99)</small>';
                    str += '            </div>';
                    str += '        </div>';
                    str += '    </div>';
                    str += '</div>';
                });
                $('#displayProducts').html(str);
            },
            error: function (xhr) {
                alert(xhr.responseText);
            }
        });
    }
</script>
